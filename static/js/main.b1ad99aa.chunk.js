(this["webpackJsonpwkt-map"]=this["webpackJsonpwkt-map"]||[]).push([[0],{27:function(e,t,a){e.exports={logoWrapper:"header_logoWrapper__3gg7y",logo:"header_logo__1X7aW"}},31:function(e,t,a){e.exports={map:"map_map__1cjP6"}},34:function(e,t,a){e.exports={actions:"shapeItem_actions__1rf7J"}},36:function(e,t,a){e.exports={title:"editPanel_title__3xB3B"}},40:function(e,t,a){e.exports=a(52)},50:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=a(13),i=a(27),s=a.n(i),u=function(){var e=window.location.href;return r.a.createElement("div",{className:s.a.logoWrapper},r.a.createElement("a",{href:e,className:s.a.logo},r.a.createElement("i",{className:"fas fa-map-marked fa-2x"}),r.a.createElement("span",null,"WKT Map")))},m=a(55),f=a(56),p=a(57),d=a(30),h=a.n(d),v=a(31),E=a.n(v),b=[52.52226,13.413144],g=function(e){if(void 0!==e&&0!==e.length){var t=e.filter((function(e){return e.visible})).map((function(e){var t=e.geoJson,a=t.coordinates,n=t.type;return"Point"===n?[a[1],a[0]]:"LineString"===n?a.map((function(e){return[e[1],e[0]]})):a[0].map((function(e){return[e[1],e[0]]}))}));return 0===t.length?void 0:t}},y=function(e){var t=e.shapes;return r.a.createElement(f.a,{bounds:g(t),center:b,zoom:16,maxZoom:22,className:E.a.map},r.a.createElement(p.a,{maxZoom:22,maxNativeZoom:19,attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),function(e){return e.filter((function(e){return e.visible})).map((function(e){return r.a.createElement(m.a,{key:h()(e),data:e.geoJson,color:e.color,weight:2})}))}(t))};y.defaultProps={shapes:[]};var w=y,N=a(38),S=a(37),j=a(22),x=a(28),O=a(16),k=a(11),_=a(39),C=a(34),I=a.n(C),W=function(e){var t=e.shape,a=e.deleteItem,n=e.updateItemVisibility,o=e.editItem,c=t.label,l=t.wkt,i=function(){n(Object(x.a)(Object(x.a)({},t),{},{visible:!t.visible}))};return r.a.createElement(_.a,{body:!0,className:"my-2"},r.a.createElement(O.a,{className:"align-items-center"},r.a.createElement(k.a,{className:"text-truncate"},c),r.a.createElement(k.a,{className:"text-truncate",xs:8},l),r.a.createElement(k.a,{className:I.a.actions},r.a.createElement("i",{className:"delete fas fa-trash",style:{color:"#e83e8c"},onClick:function(){return a(t)}}),r.a.createElement("i",{className:"edit fas fa-edit",style:{color:"#28a745"},onClick:function(){return o(t)}}),function(e){var t="#17a2b8",a="fa-eye";return e.visible||(t="#6c757d",a="fa-eye-slash"),r.a.createElement("i",{className:"fas ".concat(a),style:{color:t},onClick:i})}(t))))},B=a(19),P=a(12),J=a(26),L=a(35),T=function(e){return"string"==typeof e},G=function(e){return!T(e)||function(e){return!T(e)||0===e.length}(e.trim())},K=function(e){return G(e)?new J.Point([]):L.parse(e)},z=function(e){var t=e.id,a=e.show,o=e.handleClose,c=e.handleSave,i=e.editShape,s=Object(n.useState)(""),u=Object(l.a)(s,2),m=u[0],f=u[1],p=Object(n.useState)(""),d=Object(l.a)(p,2),h=d[0],v=d[1],E=Object(n.useState)(!0),b=Object(l.a)(E,2),g=b[0],y=b[1],w=Object(n.useRef)();Object(n.useEffect)((function(){f(i.label||"Shape-".concat(t)),v(i.wkt),w.current&&w.current.focus()}),[i,t,a]);var N=function(e){var t=e.bbox(),a=(t[0]+t[2])/2;return[(t[1]+t[3])/2,a]},S=function(e){var t=function(e){if(!e)return!1;try{return K(e),!0}catch(t){return!1}}(e);y(t)};return r.a.createElement(B.a,{show:a,onHide:o},r.a.createElement(B.a.Header,{closeButton:!0},r.a.createElement(B.a.Title,null,"New Shape")),r.a.createElement(B.a.Body,null,r.a.createElement(P.a,{onSubmit:function(e){if(e.preventDefault(),g){var a=K(h);c({id:t,label:m,wkt:h,geoJson:a,color:"teal",centerPoint:N(a),visible:!0}),f(""),v("")}}},r.a.createElement(P.a.Group,{as:O.a,controlId:"formBasicLabel"},r.a.createElement(P.a.Label,{column:!0,sm:2},"Label"),r.a.createElement(k.a,{sm:10},r.a.createElement(P.a.Control,{type:"text",placeholder:"Shape Label",value:m,onChange:function(e){return f(e.target.value)}}))),r.a.createElement(P.a.Group,{as:O.a,controlId:"formBasicCoordinates"},r.a.createElement(P.a.Label,{column:!0,sm:2},"Geometry"),r.a.createElement(k.a,{sm:10},r.a.createElement(P.a.Control,{ref:w,as:"textarea",rows:"6",placeholder:"WKT Coordinates",isInvalid:!g,value:h,onChange:function(e){return v(e.target.value)},onBlur:function(e){return S(e.target.value)}}),r.a.createElement(P.a.Control.Feedback,{type:"invalid"},"Please provide valid WKT data."))),r.a.createElement(P.a.Group,{as:O.a},r.a.createElement(k.a,{sm:{span:10,offset:2}},r.a.createElement(j.a,{variant:"primary",type:"submit"},"Save shape"))))))},M=function(e){var t=e.children;return r.a.createElement("section",{className:"my-3"},t)},Z=a(36),F=a.n(Z),H=function(e){var t=e.shapes,a=e.updateShapes,o=Object(n.useState)(!1),c=Object(l.a)(o,2),i=c[0],s=c[1],u=Object(n.useState)({}),m=Object(l.a)(u,2),f=m[0],p=m[1],d=function(){s(!1),p({})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(e),s(!0)},v=function(e){var n=t.filter((function(t){return t!==e}));a(n)},E=function(e){var n=[];n=t.find((function(t){return t.id===e.id}))?t.map((function(t){return t.id===e.id?e:t})):[].concat(Object(N.a)(t),[e]),a(n)};return r.a.createElement(S.a,null,r.a.createElement(M,null,r.a.createElement("div",{className:F.a.title},r.a.createElement("span",{className:"text-muted"},"Add WKT formatted shapes"),r.a.createElement(j.a,{variant:"primary",size:"sm",onClick:function(){return h()}},r.a.createElement("i",{className:"fas fa-plus"})," New")),r.a.createElement("div",{className:"pt-3"},t.map((function(e){return r.a.createElement(W,{key:e.id,shape:e,deleteItem:v,updateItemVisibility:E,editItem:function(e){return h(e)}})})))),r.a.createElement(z,{show:i,handleClose:d,handleSave:function(e){d(),E(e)},id:f.id||t.length+1,editShape:f}))},V=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(w,{shapes:a}),r.a.createElement(H,{shapes:a,updateShapes:o}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(50),a(51);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.b1ad99aa.chunk.js.map