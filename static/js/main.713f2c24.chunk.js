(this["webpackJsonpwkt-map"]=this["webpackJsonpwkt-map"]||[]).push([[0],{43:function(e,a,t){e.exports={navbarBrand:"header_navbarBrand__2WSmN"}},45:function(e,a,t){e.exports={map:"map_map__1cjP6"}},48:function(e,a,t){e.exports={actions:"shapeItem_actions__1rf7J"}},50:function(e,a,t){e.exports={title:"editPanel_title__3xB3B"}},53:function(e,a,t){e.exports=t(65)},63:function(e,a,t){},65:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(19),l=t.n(c),o=t(21),s=t(29),i=t(43),m=t.n(i),u=function(){return r.a.createElement(s.a,{bg:"dark",variant:"dark",sticky:"top"},r.a.createElement(s.a.Brand,{href:"/",className:"".concat(m.a.navbarBrand," align-middle")},r.a.createElement("i",{className:"fas fa-map-marked fa-2x"}),r.a.createElement("span",null,"WKT Map")),r.a.createElement(s.a.Collapse,{className:"justify-content-end"},r.a.createElement(s.a.Text,null,r.a.createElement("a",{href:"https://github.com/sbstnkng/wkt-map",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github fa-2x"})))))},f=t(68),p=t(69),d=t(70),h=t(45),E=t.n(h),b=[52.52226,13.413144],v=function(e){if(void 0===e||0===e.length)return b;var a=0,t=0;return e.forEach((function(e){a+=e.centerPoint[0],t+=e.centerPoint[1]})),[a/e.length,t/e.length]},g=function(e){var a=e.shapes;return r.a.createElement(p.a,{center:v(a),zoom:16,maxZoom:22,className:E.a.map},r.a.createElement(d.a,{maxZoom:22,maxNativeZoom:19,attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),function(e){return e.filter((function(e){return e.visible})).map((function(a){return r.a.createElement(f.a,{key:e.indexOf(a),data:a.geoJson,color:a.color,weight:2})}))}(a))};g.defaultProps={shapes:[]};var y=g,N=t(24),w=t(40),x=t(51),k=t(36),j=t(23),O=t(14),S=t(52),_=t(48),B=t.n(_),C=function(e){var a=e.id,t=e.shape,n=e.deleteItem,c=e.updateItem,l=t.label,o=t.wkt,s=function(){c(a,Object(N.a)(Object(N.a)({},t),{},{visible:!t.visible}))};return r.a.createElement(S.a,{body:!0,className:"my-2"},r.a.createElement(j.a,{className:"align-items-center"},r.a.createElement(O.a,{className:"text-truncate"},l),r.a.createElement(O.a,{className:"text-truncate",xs:8},o),r.a.createElement(O.a,{className:B.a.actions},r.a.createElement("i",{className:"delete fas fa-trash",style:{color:"#e83e8c"},onClick:function(){return n(a)}}),r.a.createElement("i",{className:"edit fas fa-edit",style:{color:"#28a745"}}),r.a.createElement("i",{className:"info fas fa-info",style:{color:"#17a2b8"}}),function(e){var a="#17a2b8",t="fa-eye";return e.visible||(a="#6c757d",t="fa-eye-slash"),r.a.createElement("i",{className:"fas ".concat(t),style:{color:a},onClick:s})}(t))))},I=t(28),P=t(17),W=t(39),J=t(49),L=function(e){return"string"==typeof e},T=function(e){return!L(e)||function(e){return!L(e)||0===e.length}(e.trim())},G=function(e){var a=e.show,t=e.handleClose,c=e.handleSave,l=Object(n.useState)(""),s=Object(o.a)(l,2),i=s[0],m=s[1],u=Object(n.useState)(""),f=Object(o.a)(u,2),p=f[0],d=f[1],h=function(e){var a=e.bbox(),t=(a[0]+a[2])/2;return[(a[1]+a[3])/2,t]};return r.a.createElement(I.a,{show:a,onHide:t},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"New Shape")),r.a.createElement(I.a.Body,null,r.a.createElement(P.a,{onSubmit:function(e){e.preventDefault();var a,t=T(a=p)?new W.Point([]):J.parse(a);c({label:i,wkt:p,geoJson:t,color:"teal",centerPoint:h(t),visible:!0}),m(""),d("")}},r.a.createElement(P.a.Group,{as:j.a,controlId:"formBasicLabel"},r.a.createElement(P.a.Label,{column:!0,sm:2},"Label"),r.a.createElement(O.a,{sm:10},r.a.createElement(P.a.Control,{type:"text",placeholder:"Shape Label",value:i,onChange:function(e){return m(e.target.value)}}))),r.a.createElement(P.a.Group,{as:j.a,controlId:"formBasicCoordinates"},r.a.createElement(P.a.Label,{column:!0,sm:2},"Geometry"),r.a.createElement(O.a,{sm:10},r.a.createElement(P.a.Control,{as:"textarea",rows:"6",placeholder:"WKT Coordinates",value:p,onChange:function(e){return d(e.target.value)}}))),r.a.createElement(P.a.Group,{as:j.a},r.a.createElement(O.a,{sm:{span:10,offset:2}},r.a.createElement(k.a,{variant:"primary",type:"submit"},"Save shape"))))))},z=function(e){var a=e.children;return r.a.createElement("section",{className:"my-3"},a)},K=t(50),M=t.n(K),Z=function(e){var a=e.shapes,t=e.updateShapes,c=Object(n.useState)(!1),l=Object(o.a)(c,2),s=l[0],i=l[1],m=function(){return i(!1)};return r.a.createElement(x.a,null,r.a.createElement(z,null,r.a.createElement("div",{className:M.a.title},r.a.createElement("span",{className:"text-muted"},"Add WKT formatted shapes"),r.a.createElement(k.a,{variant:"primary",size:"sm",onClick:function(){return i(!0)}},r.a.createElement("i",{className:"fas fa-plus"})," New")),r.a.createElement("div",{className:"pt-3"},function(e,a,t){return e.map((function(e,n){return r.a.createElement(C,{key:n,id:n,shape:e,deleteItem:a,updateItem:t})}))}(a,(function(e){var n=a.filter((function(a,t){return t!==e}));t(n)}),(function(e,n){var r=Object(w.a)(a);r[e]=n,t(r)})))),r.a.createElement(G,{show:s,handleClose:m,handleSave:function(e){var n,r;m(),t([].concat(Object(w.a)(a),[Object(N.a)(Object(N.a)({},e),{},{label:(n=e.label,r="Shape-".concat(a.length+1),T(n)?r:n)})]))}}))},H=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(y,{shapes:t}),r.a.createElement(Z,{shapes:t,updateShapes:c}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(63),t(64);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.713f2c24.chunk.js.map