{"version":3,"sources":["components/header/header.module.css","components/map/map.module.css","components/editPanel/shapeItem.module.css","components/editPanel/editPanel.module.css","components/header/index.js","components/header/Header.jsx","components/map/Map.jsx","components/map/index.js","components/editPanel/ShapeItem.jsx","utils/stringUtils.js","utils/wktParser.js","components/editPanel/EditModal.jsx","components/section/index.js","components/section/Section.jsx","components/editPanel/index.js","components/editPanel/EditPanel.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","Navbar","bg","variant","sticky","Brand","href","className","styles","navbarBrand","Collapse","Text","target","rel","defaultCenter","calculateBounds","shapes","undefined","length","filter","shape","visible","map","geoJson","coordinates","Map","bounds","center","zoom","maxZoom","TileLayer","maxNativeZoom","attribution","url","GeoJSON","key","hash","data","color","weight","createShapes","defaultProps","ShapeItem","deleteItem","updateItemVisibility","editItem","label","wkt","updateVisibility","Card","body","Row","Col","xs","actions","style","onClick","icon","renderVisibility","isString","str","isBlank","string","isEmpty","trim","parseWktToGeoJson","wktShape","Terraformer","WKT","EditModal","id","show","handleClose","handleSave","editShape","useState","setLabel","setWkt","isValid","setValid","shapeInput","useRef","useEffect","current","focus","calculateCenterPoint","bbox","lon","validateWktShape","wktShapte","error","isWktValid","Modal","onHide","closeButton","Title","Body","Form","onSubmit","e","preventDefault","centerPoint","Group","as","controlId","Label","column","sm","Control","type","placeholder","value","onChange","event","ref","rows","isInvalid","onBlur","Feedback","span","offset","Button","Section","children","EditPanel","updateShapes","setShow","setEditShape","handleShow","newShapes","item","updateItem","newShape","find","Container","title","size","App","setShapes","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.6fab1e1a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbarBrand\":\"header_navbarBrand__2WSmN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"map\":\"map_map__1cjP6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actions\":\"shapeItem_actions__1rf7J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"editPanel_title__3xB3B\"};","import Header from './Header';\n\nexport default Header;\n","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport styles from './header.module.css';\n\nconst Header = () => {\n  return (\n    <Navbar bg=\"dark\" variant=\"dark\" sticky=\"top\">\n      <Navbar.Brand href=\"/\" className={`${styles.navbarBrand} align-middle`}>\n        <i className=\"fas fa-map-marked fa-2x\"></i>\n        <span>WKT Map</span>\n      </Navbar.Brand>\n      <Navbar.Collapse className=\"justify-content-end\">\n        <Navbar.Text>\n          <a href=\"https://github.com/sbstnkng/wkt-map\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <i className=\"fab fa-github fa-2x\"></i>\n          </a>\n        </Navbar.Text>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Map as LeafletMap, TileLayer, GeoJSON } from 'react-leaflet';\nimport hash from 'object-hash';\nimport styles from './map.module.css';\n\nconst defaultCenter = [52.52226, 13.413144];\n\nconst createShapes = (shapes) => {\n  return shapes\n    .filter((shape) => shape.visible)\n    .map((shape) => <GeoJSON key={hash(shape)} data={shape.geoJson} color={shape.color} weight={2} />);\n};\n\nconst calculateBounds = (shapes) => {\n  if (shapes === undefined || shapes.length === 0) return undefined;\n\n  return shapes\n    .filter((shape) => shape.visible)\n    .map((shape) => shape.geoJson.coordinates[0].map((coordinates) => [coordinates[1], coordinates[0]]));\n};\n\nconst Map = ({ shapes }) => {\n  return (\n    <LeafletMap bounds={calculateBounds(shapes)} center={defaultCenter} zoom={16} maxZoom={22} className={styles.map}>\n      <TileLayer\n        maxZoom={22}\n        maxNativeZoom={19}\n        attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      {createShapes(shapes)}\n    </LeafletMap>\n  );\n};\n\nMap.defaultProps = {\n  shapes: [],\n};\n\nMap.propTypes = {\n  shapes: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      label: PropTypes.string,\n      geoJson: PropTypes.object,\n      wkt: PropTypes.string,\n      color: PropTypes.string,\n      centerPoint: PropTypes.arrayOf(PropTypes.number),\n      visible: PropTypes.bool,\n    })\n  ).isRequired,\n};\n\nexport default Map;\n","import Map from './Map';\n\nexport default Map;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport styles from './shapeItem.module.css';\n\nconst ShapeItem = ({ shape, deleteItem, updateItemVisibility, editItem }) => {\n  const { label, wkt } = shape;\n\n  const updateVisibility = () => {\n    updateItemVisibility({ ...shape, visible: !shape.visible });\n  };\n\n  const renderVisibility = (shape) => {\n    let color = '#17a2b8';\n    let icon = 'fa-eye';\n\n    if (!shape.visible) {\n      color = '#6c757d';\n      icon = 'fa-eye-slash';\n    }\n\n    return <i className={`fas ${icon}`} style={{ color }} onClick={updateVisibility}></i>;\n  };\n\n  return (\n    <Card body className=\"my-2\">\n      <Row className=\"align-items-center\">\n        <Col className=\"text-truncate\">{label}</Col>\n        <Col className=\"text-truncate\" xs={8}>\n          {wkt}\n        </Col>\n        <Col className={styles.actions}>\n          <i className=\"delete fas fa-trash\" style={{ color: '#e83e8c' }} onClick={() => deleteItem(shape)}></i>\n          <i className=\"edit fas fa-edit\" style={{ color: '#28a745' }} onClick={() => editItem(shape)}></i>\n          {renderVisibility(shape)}\n        </Col>\n      </Row>\n    </Card>\n  );\n};\n\nShapeItem.propTypes = {\n  id: PropTypes.number,\n  shape: PropTypes.shape({\n    id: PropTypes.number,\n    label: PropTypes.string,\n    geoJson: PropTypes.object,\n    wkt: PropTypes.string,\n    color: PropTypes.string,\n    centerPoint: PropTypes.arrayOf(PropTypes.number),\n    visible: PropTypes.bool,\n  }),\n  deleteItem: PropTypes.func.isRequired,\n  updateItemVisibility: PropTypes.func.isRequired,\n  editItem: PropTypes.func.isRequired,\n};\n\nexport default ShapeItem;\n","export const isString = (str) => typeof str == 'string';\nexport const isEmpty = (string) => !isString(string) || 0 === string.length;\nexport const isBlank = (string) => !isString(string) || isEmpty(string.trim());\nexport const getStringOrDefault = (string, defaultValue) => (isBlank(string) ? defaultValue : string);\n","import * as Terraformer from 'terraformer';\nimport * as WKT from 'terraformer-wkt-parser';\nimport { isBlank } from './stringUtils';\n\nexport const parseWktToGeoJson = (wktShape) => {\n  if (isBlank(wktShape)) return new Terraformer.Point([]);\n\n  return WKT.parse(wktShape);\n};\n\nexport const isWktValid = (wktShape) => {\n  if (!wktShape) return false;\n\n  try {\n    parseWktToGeoJson(wktShape);\n    return true;\n  } catch (error) {\n    return false;\n  }\n};\n","import React, { useState, useRef, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { parseWktToGeoJson, isWktValid } from '../../utils/wktParser';\n\nconst EditModal = ({ id, show, handleClose, handleSave, editShape }) => {\n  const [label, setLabel] = useState('');\n  const [wkt, setWkt] = useState('');\n  const [isValid, setValid] = useState(true);\n  const shapeInput = useRef();\n\n  useEffect(() => {\n    setLabel(editShape.label || `Shape-${id}`);\n    setWkt(editShape.wkt);\n\n    if (shapeInput.current) {\n      shapeInput.current.focus();\n    }\n  }, [editShape, id, show]);\n\n  const resetStates = () => {\n    setLabel('');\n    setWkt('');\n  };\n\n  const calculateCenterPoint = (geoJson) => {\n    const bbox = geoJson.bbox();\n    const lon = (bbox[0] + bbox[2]) / 2;\n    const lat = (bbox[1] + bbox[3]) / 2;\n\n    return [lat, lon];\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (isValid) {\n      const geoJson = parseWktToGeoJson(wkt);\n      handleSave({\n        id,\n        label,\n        wkt,\n        geoJson: geoJson,\n        color: 'teal',\n        centerPoint: calculateCenterPoint(geoJson),\n        visible: true,\n      });\n\n      resetStates();\n    }\n  };\n\n  const validateWktShape = (wktShapte) => {\n    const isValid = isWktValid(wktShapte);\n    setValid(isValid);\n  };\n\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>New Shape</Modal.Title>\n      </Modal.Header>\n\n      <Modal.Body>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group as={Row} controlId=\"formBasicLabel\">\n            <Form.Label column sm={2}>\n              Label\n            </Form.Label>\n            <Col sm={10}>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Shape Label\"\n                value={label}\n                onChange={(event) => setLabel(event.target.value)}\n              />\n            </Col>\n          </Form.Group>\n\n          <Form.Group as={Row} controlId=\"formBasicCoordinates\">\n            <Form.Label column sm={2}>\n              Geometry\n            </Form.Label>\n            <Col sm={10}>\n              <Form.Control\n                ref={shapeInput}\n                as=\"textarea\"\n                rows=\"6\"\n                placeholder=\"WKT Coordinates\"\n                isInvalid={!isValid}\n                value={wkt}\n                onChange={(event) => setWkt(event.target.value)}\n                onBlur={(event) => validateWktShape(event.target.value)}\n              />\n              <Form.Control.Feedback type=\"invalid\">Please provide valid WKT data.</Form.Control.Feedback>\n            </Col>\n          </Form.Group>\n          <Form.Group as={Row}>\n            <Col sm={{ span: 10, offset: 2 }}>\n              <Button variant=\"primary\" type=\"submit\">\n                Save shape\n              </Button>\n            </Col>\n          </Form.Group>\n        </Form>\n      </Modal.Body>\n    </Modal>\n  );\n};\n\nEditModal.propTypes = {\n  show: PropTypes.bool,\n  id: PropTypes.number.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  handleSave: PropTypes.func.isRequired,\n  editShape: PropTypes.object,\n};\n\nexport default EditModal;\n","import Section from './Section';\n\nexport default Section;\n","import React from 'react';\n\nconst Section = ({ children }) => {\n  return <section className=\"my-3\">{children}</section>;\n};\n\nexport default Section;\n","import EditPanel from './EditPanel';\n\nexport default EditPanel;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport ShapeItem from './ShapeItem';\nimport EditModal from './EditModal';\nimport Section from '../section';\nimport styles from './editPanel.module.css';\n\nconst EditPanel = ({ shapes, updateShapes }) => {\n  const [show, setShow] = useState(false);\n  const [editShape, setEditShape] = useState({});\n\n  const handleClose = () => {\n    setShow(false);\n    setEditShape({});\n  };\n  const handleShow = (shape = {}) => {\n    setEditShape(shape);\n    setShow(true);\n  };\n\n  const handleSave = (newShape) => {\n    handleClose();\n    updateItem(newShape);\n  };\n\n  const deleteItem = (shape) => {\n    const newShapes = shapes.filter((item) => item !== shape);\n    updateShapes(newShapes);\n  };\n\n  const updateItem = (newShape) => {\n    const shapeExists = shapes.find((item) => item.id === newShape.id);\n    let newShapes = [];\n\n    if (shapeExists) {\n      newShapes = shapes.map((item) => (item.id === newShape.id ? newShape : item));\n    } else {\n      newShapes = [...shapes, newShape];\n    }\n    updateShapes(newShapes);\n  };\n\n  const renderShapeItems = () => {\n    return shapes.map((shape) => (\n      <ShapeItem\n        key={shape.id}\n        shape={shape}\n        deleteItem={deleteItem}\n        updateItemVisibility={updateItem}\n        editItem={(item) => handleShow(item)}\n      />\n    ));\n  };\n\n  return (\n    <Container>\n      <Section>\n        <div className={styles.title}>\n          <span className=\"text-muted\">Add WKT formatted shapes</span>\n          <Button variant=\"primary\" size=\"sm\" onClick={() => handleShow()}>\n            <i className=\"fas fa-plus\"></i> New\n          </Button>\n        </div>\n        <div className=\"pt-3\">{renderShapeItems()}</div>\n      </Section>\n\n      <EditModal\n        show={show}\n        handleClose={handleClose}\n        handleSave={handleSave}\n        id={editShape.id || shapes.length + 1}\n        editShape={editShape}\n      />\n    </Container>\n  );\n};\n\nEditPanel.propTypes = {\n  shapes: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      label: PropTypes.string,\n      geoJson: PropTypes.object,\n      wkt: PropTypes.string,\n      color: PropTypes.string,\n      centerPoint: PropTypes.arrayOf(PropTypes.number),\n      visible: PropTypes.bool,\n    })\n  ).isRequired,\n  updateShapes: PropTypes.func.isRequired,\n};\n\nexport default EditPanel;\n","import React, { useState } from 'react';\nimport Header from './components/header';\nimport Map from './components/map';\nimport EditPanel from './components/editPanel';\n\nconst App = () => {\n  const [shapes, setShapes] = useState([]);\n\n  return (\n    <>\n      <Header />\n      <Map shapes={shapes} />\n      <EditPanel shapes={shapes} updateShapes={setShapes} />\n    </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\n\n// Importing the Bootstrap CSS\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}