(this["webpackJsonpwkt-map"]=this["webpackJsonpwkt-map"]||[]).push([[0],{42:function(e,a,t){e.exports={navbarBrand:"header_navbarBrand__2WSmN"}},45:function(e,a,t){e.exports={map:"map_map__1cjP6"}},48:function(e,a,t){e.exports={actions:"shapeItem_actions__1rf7J"}},50:function(e,a,t){e.exports={title:"editPanel_title__3xB3B"}},54:function(e,a,t){e.exports=t(66)},64:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(19),o=t.n(c),l=t(20),i=t(28),s=t(42),m=t.n(s),u=function(){return r.a.createElement(i.a,{bg:"dark",variant:"dark",sticky:"top"},r.a.createElement(i.a.Brand,{href:"/",className:"".concat(m.a.navbarBrand," align-middle")},r.a.createElement("i",{className:"fas fa-map-marked fa-2x"}),r.a.createElement("span",null,"WKT Map")),r.a.createElement(i.a.Collapse,{className:"justify-content-end"},r.a.createElement(i.a.Text,null,r.a.createElement("a",{href:"https://github.com/sbstnkng/wkt-map",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github fa-2x"})))))},f=t(69),p=t(70),d=t(71),h=t(44),E=t.n(h),b=t(45),v=t.n(b),g=[52.52226,13.413144],y=function(e){if(void 0!==e&&0!==e.length)return e.filter((function(e){return e.visible})).map((function(e){return e.geoJson.coordinates[0].map((function(e){return[e[1],e[0]]}))}))},k=function(e){var a=e.shapes;return r.a.createElement(p.a,{bounds:y(a),center:g,zoom:16,maxZoom:22,className:v.a.map},r.a.createElement(d.a,{maxZoom:22,maxNativeZoom:19,attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),function(e){return e.filter((function(e){return e.visible})).map((function(e){return r.a.createElement(f.a,{key:E()(e),data:e.geoJson,color:e.color,weight:2})}))}(a))};k.defaultProps={shapes:[]};var w=k,N=t(52),x=t(51),S=t(35),j=t(39),O=t(23),C=t(14),_=t(53),B=t(48),I=t.n(B),J=function(e){var a=e.shape,t=e.deleteItem,n=e.updateItemVisibility,c=e.editItem,o=a.label,l=a.wkt,i=function(){n(Object(j.a)(Object(j.a)({},a),{},{visible:!a.visible}))};return r.a.createElement(_.a,{body:!0,className:"my-2"},r.a.createElement(O.a,{className:"align-items-center"},r.a.createElement(C.a,{className:"text-truncate"},o),r.a.createElement(C.a,{className:"text-truncate",xs:8},l),r.a.createElement(C.a,{className:I.a.actions},r.a.createElement("i",{className:"delete fas fa-trash",style:{color:"#e83e8c"},onClick:function(){return t(a)}}),r.a.createElement("i",{className:"edit fas fa-edit",style:{color:"#28a745"},onClick:function(){return c(a)}}),function(e){var a="#17a2b8",t="fa-eye";return e.visible||(a="#6c757d",t="fa-eye-slash"),r.a.createElement("i",{className:"fas ".concat(t),style:{color:a},onClick:i})}(a))))},W=t(27),L=t(17),P=t(38),T=t(49),G=function(e){return"string"==typeof e},z=function(e){return!G(e)||function(e){return!G(e)||0===e.length}(e.trim())},K=function(e){var a=e.id,t=e.show,c=e.handleClose,o=e.handleSave,i=e.editShape,s=Object(n.useState)(""),m=Object(l.a)(s,2),u=m[0],f=m[1],p=Object(n.useState)(""),d=Object(l.a)(p,2),h=d[0],E=d[1],b=Object(n.useRef)();Object(n.useEffect)((function(){f(i.label||"Shape-".concat(a)),E(i.wkt),b.current&&b.current.focus()}),[i,a,t]);var v=function(e){var a=e.bbox(),t=(a[0]+a[2])/2;return[(a[1]+a[3])/2,t]};return r.a.createElement(W.a,{show:t,onHide:c},r.a.createElement(W.a.Header,{closeButton:!0},r.a.createElement(W.a.Title,null,"New Shape")),r.a.createElement(W.a.Body,null,r.a.createElement(L.a,{onSubmit:function(e){e.preventDefault();var t,n=z(t=h)?new P.Point([]):T.parse(t);o({id:a,label:u,wkt:h,geoJson:n,color:"teal",centerPoint:v(n),visible:!0}),f(""),E("")}},r.a.createElement(L.a.Group,{as:O.a,controlId:"formBasicLabel"},r.a.createElement(L.a.Label,{column:!0,sm:2},"Label"),r.a.createElement(C.a,{sm:10},r.a.createElement(L.a.Control,{type:"text",placeholder:"Shape Label",value:u,onChange:function(e){return f(e.target.value)}}))),r.a.createElement(L.a.Group,{as:O.a,controlId:"formBasicCoordinates"},r.a.createElement(L.a.Label,{column:!0,sm:2},"Geometry"),r.a.createElement(C.a,{sm:10},r.a.createElement(L.a.Control,{ref:b,as:"textarea",rows:"6",placeholder:"WKT Coordinates",value:h,onChange:function(e){return E(e.target.value)}}))),r.a.createElement(L.a.Group,{as:O.a},r.a.createElement(C.a,{sm:{span:10,offset:2}},r.a.createElement(S.a,{variant:"primary",type:"submit"},"Save shape"))))))},M=function(e){var a=e.children;return r.a.createElement("section",{className:"my-3"},a)},Z=t(50),H=t.n(Z),V=function(e){var a=e.shapes,t=e.updateShapes,c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)({}),u=Object(l.a)(m,2),f=u[0],p=u[1],d=function(){s(!1),p({})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(e),s(!0)},E=function(e){var n=a.filter((function(a){return a!==e}));t(n)},b=function(e){var n=[];n=a.find((function(a){return a.id===e.id}))?a.map((function(a){return a.id===e.id?e:a})):[].concat(Object(N.a)(a),[e]),t(n)};return r.a.createElement(x.a,null,r.a.createElement(M,null,r.a.createElement("div",{className:H.a.title},r.a.createElement("span",{className:"text-muted"},"Add WKT formatted shapes"),r.a.createElement(S.a,{variant:"primary",size:"sm",onClick:function(){return h()}},r.a.createElement("i",{className:"fas fa-plus"})," New")),r.a.createElement("div",{className:"pt-3"},a.map((function(e){return r.a.createElement(J,{key:e.id,shape:e,deleteItem:E,updateItemVisibility:b,editItem:function(e){return h(e)}})})))),r.a.createElement(K,{show:i,handleClose:d,handleSave:function(e){d(),b(e)},id:f.id||a.length+1,editShape:f}))},A=function(){var e=Object(n.useState)([]),a=Object(l.a)(e,2),t=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),r.a.createElement(w,{shapes:t}),r.a.createElement(V,{shapes:t,updateShapes:c}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(64),t(65);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.7b99db41.chunk.js.map